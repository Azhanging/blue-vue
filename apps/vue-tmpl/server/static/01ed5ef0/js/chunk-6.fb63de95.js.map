{"version":3,"sources":["webpack:///./src/views/components/scroll/scroll.vue?867f","webpack:///D:/WWW/dtb_spa/blue-vue-program/components/bv-scroll/index.js","webpack:///src/views/components/scroll/scroll.vue","webpack:///./src/views/components/scroll/scroll.vue?54af","webpack:///./src/views/components/scroll/scroll.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","router-level","header","title","value","api","disabled","load","state","staticClass","_l","data","item","href","directives","name","rawName","itemTagName","expression","src","list_img","width","data-size","msrc","_v","_s","i","alt","slot","staticRenderFns","scrollMixin","opts","arguments","length","undefined","loadKey","_defineProperty","lists","hasMore","params","page","scrollEndHook","loadState","scrollNoHasListData","resultData","listKey","split","forEach","key","scrollvue_type_script_lang_js_","mixins","methods","_this","$axios","get","p","then","res","call","concat","list","scroll_list","class","catch","mounted","$nextTick","document","scroll_scrollvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"static/01ed5ef0/js/chunk-6.fb63de95.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bv-home-view',{attrs:{\"router-level\":2}},[_c('bv-header',{attrs:{\"header\":{title:{value:'下拉加载'}}}}),_c('bv-scroll',{attrs:{\"api\":_vm.api,\"disabled\":_vm.load.state.disabled}},[_c('ul',{staticClass:\"bc-reset-ul\"},_vm._l((_vm.load.data.list),function(item){return _c('li',{staticClass:\"bc-pd-10\"},[_c('a',{staticClass:\"bc-t-666\",attrs:{\"href\":\"\"}},[_c('div',{staticClass:\"bc-media\"},[_c('div',{directives:[{name:\"blue-photoswipe\",rawName:\"v-blue-photoswipe\",value:({itemTagName:'DIV'}),expression:\"{itemTagName:'DIV'}\"}],staticClass:\"bc-media-left\"},[_c('div',[_c('img',{attrs:{\"src\":item.list_img,\"width\":\"50\",\"data-size\":\"0x0\",\"msrc\":item.list_img}})])]),_c('div',{staticClass:\"bc-media-body\"},[_c('span',[_vm._v(_vm._s(item.name))])])])]),_c('ul',{directives:[{name:\"blue-photoswipe\",rawName:\"v-blue-photoswipe\",value:({itemTagName:'LI'}),expression:\"{itemTagName:'LI'}\"}],staticClass:\"bc-reset-ul\"},_vm._l((4),function(i){return _c('li',[_c('img',{attrs:{\"src\":item.list_img,\"alt\":\"\",\"width\":\"50\",\"data-size\":\"0x0\",\"msrc\":item.list_img,\"title\":(\"测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下\" + i)}})])}),0)])}),0),_c('template',{slot:\"load-down\"},[(_vm.load.state.hasMore)?_c('div',{staticClass:\"bc-t-c bc-pd-10\"},[_vm._v(\"\\n\\t\\t\\t\\t数据加载中...\\n\\t\\t\\t\")]):_c('div',{staticClass:\"bc-t-c bc-pd-10\"},[_vm._v(\"\\n\\t\\t\\t\\t暂无数据...\\n\\t\\t\\t\")])])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//针对加载更多调用的mixin数据\r\nexport function scrollMixin(opts = {\r\n  loadKey: 'load'\r\n}) {\r\n  return {\r\n    data() {\r\n      return {\r\n        [opts.loadKey]: {\r\n          data: {\r\n            lists: []\r\n          },\r\n          state: {\r\n            disabled: false,\r\n            hasMore: true\r\n          },\r\n          params: {\r\n            page: 1\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n//ssr default data\r\nexport function scrollAsyncData() {\r\n  const scrollData = scrollMixin();\r\n  return scrollData.data();\r\n}\r\n\r\n//停止加载状态\r\nexport function scrollEndHook() {\r\n  const loadState = this.load.state;\r\n  loadState.disabled = true;\r\n  loadState.hasMore = false;\r\n  return {\r\n    disabled: loadState.disabled\r\n  };\r\n}\r\n\r\n//检查load中列表数据是否存在\r\nexport function scrollNoHasListData(opts) {\r\n  const { resultData, listKey } = opts;\r\n  if (!resultData || (typeof resultData === 'string')) return {};\r\n  let data = resultData;\r\n  if (listKey) {\r\n    (listKey.split('.') || []).forEach(function (key) {\r\n      data = data[key];\r\n    });\r\n  }\r\n  if (!data || data.length === 0) return true;\r\n  return false;\r\n}","<template>\r\n\t<bv-home-view :router-level=\"2\">\r\n\t\t<bv-header :header=\"{title:{value:'下拉加载'}}\"/>\r\n\t\t<bv-scroll :api=\"api\" :disabled=\"load.state.disabled\">\r\n\t\t\t<ul class=\"bc-reset-ul\">\r\n\t\t\t\t<li v-for=\"item in load.data.list\" class=\"bc-pd-10\">\r\n\t\t\t\t\t<a href=\"\" class=\"bc-t-666\">\r\n\t\t\t\t\t\t<div class=\"bc-media\">\r\n\t\t\t\t\t\t\t<div class=\"bc-media-left\" v-blue-photoswipe=\"{itemTagName:'DIV'}\">\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<img :src=\"item.list_img\" width=\"50\" data-size=\"0x0\" :msrc=\"item.list_img\"/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"bc-media-body\">\r\n\t\t\t\t\t\t\t\t<span>{{item.name}}</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t<ul class=\"bc-reset-ul\" v-blue-photoswipe=\"{itemTagName:'LI'}\">\r\n\t\t\t\t\t\t<li v-for=\"i in 4\">\r\n\t\t\t\t\t\t\t<img :src=\"item.list_img\" alt=\"\" width=\"50\" data-size=\"0x0\" :msrc=\"item.list_img\"\r\n\t\t\t\t\t\t\t     :title=\"`测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下测试一下${i}`\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t\t<template slot=\"load-down\">\r\n\t\t\t\t<div class=\"bc-t-c bc-pd-10\" v-if=\"load.state.hasMore\">\r\n\t\t\t\t\t数据加载中...\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"bc-t-c bc-pd-10\" v-else>\r\n\t\t\t\t\t暂无数据...\r\n\t\t\t\t</div>\r\n\t\t\t</template>\r\n\t\t</bv-scroll>\r\n\t</bv-home-view>\r\n</template>\r\n\r\n<script>\r\n\r\n\timport { scrollMixin, scrollEndHook, scrollNoHasListData } from '$scroll';\r\n\r\n  export default {\r\n    name: \"scroll\",\r\n    mixins: [scrollMixin()],\r\n    data() {\r\n      return {}\r\n    },\r\n    methods: {\r\n      api() {\r\n        const page = this.load.params.page++;\r\n        return this.$axios.get('/home/home/getRecommendForYou', {\r\n          params: {\r\n            p: page,\r\n            page: page\r\n          }\r\n        }).then((res) => {\r\n\t        const { data: resultData } = res.data;\r\n\t        if (scrollNoHasListData.call(this, {\r\n\t\t\t        resultData,\r\n\t\t\t        listKey: 'list'\r\n\t\t        })) {\r\n\t\t        return scrollEndHook.call(this);\r\n\t        } else {\r\n\t\t        this.load.data.list = this.load.data.list.concat(resultData.list);\r\n\t\t        this.scroll_list = resultData.class;\r\n\t        }\r\n        }).catch(() => {\r\n          return scrollEndHook.call(this);\r\n        });\r\n      }\r\n    },\r\n    mounted() {\r\n      this.$nextTick(() => {\r\n\t\t\t\tdocument.title = '123';\r\n      });\r\n    }\r\n  }\r\n</script>","import mod from \"-!../../../../node_modules/.2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/.2.1.2@thread-loader/dist/cjs.js!../../../../node_modules/.8.0.5@babel-loader/lib/index.js!../../../../node_modules/.2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/.15.7.0@vue-loader/lib/index.js??vue-loader-options!./scroll.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/.2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/.2.1.2@thread-loader/dist/cjs.js!../../../../node_modules/.8.0.5@babel-loader/lib/index.js!../../../../node_modules/.2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/.15.7.0@vue-loader/lib/index.js??vue-loader-options!./scroll.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./scroll.vue?vue&type=template&id=7e700cc3&\"\nimport script from \"./scroll.vue?vue&type=script&lang=js&\"\nexport * from \"./scroll.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/.15.7.0@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}